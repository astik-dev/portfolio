(()=>{"use strict";const t=document,e=e=>t.querySelector(e),n=e=>t.querySelectorAll(e);function o(){e(".cookies-popup").classList.toggle("cookies-popup_close")}function i(){o(),setTimeout((()=>{e(".cookies-popup").remove()}),300)}function s(){i(),c("accepted"),a()}function r(){i(),c("declined")}function c(e){t.cookie=`consent=${e}; max-age=15552000`}function a(){function e(){dataLayer.push(arguments)}!function(t,e,n,o,i){t[o]=t[o]||[],t[o].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var s=e.getElementsByTagName(n)[0],r=e.createElement(n);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-5LL8BFL",s.parentNode.insertBefore(r,s)}(window,document,"script","dataLayer"),t.head.insertAdjacentHTML("beforeend",'<script async src="https://www.googletagmanager.com/gtag/js?id=G-B8B6TJH9GG"><\/script>'),window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-B8B6TJH9GG"),t.body.insertAdjacentHTML("afterbegin",'<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5LL8BFL" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>')}t.addEventListener("DOMContentLoaded",(function(){if(navigator.cookieEnabled){let n=function(e){const n="consent=",o=decodeURIComponent(t.cookie).split(";");for(let t=0;t<o.length;t++){let e=o[t].trim();if(0===e.indexOf(n))return e.substring(8,e.length)}return null}();n?"accepted"==n&&a():e(".privacy")||(e(".wrapper").insertAdjacentHTML("afterbegin",'<div class="cookies-popup cookies-popup_close">\n\t\t\t\t\t\t\t\t<div class="cookies-popup__text">\n\t\t\t\t\t\t\t\t\t<p>üç™ Cookie Usage Notice</p>\n\t\t\t\t\t\t\t\t\t<p>We use cookies to enhance your browsing experience and gain insights into how our website is used. These cookies help us understand user behavior and analyze traffic patterns, all while respecting your privacy. To learn more about how we use cookies and your data, please review our <a href="privacy.html">Privacy Policy</a>.</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="cookies-popup__btns">\n\t\t\t\t\t\t\t\t\t<button>Reject</button>\n\t\t\t\t\t\t\t\t\t<button>Accept</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>'),e(".cookies-popup__btns button:nth-child(1)").addEventListener("click",r),e(".cookies-popup__btns button:nth-child(2)").addEventListener("click",s),setTimeout((()=>{o()}),100))}}));let p=!0;const l={imgBasePath:{local:"img/",external:"https://raw.githubusercontent.com/astik-dev/portfolio/content/images/"},px1:"img/1x1.png",fullPath:function(t,e){return this.imgBasePath[t]+e},newWebpPic:function(t,e,n,o,i){const s=i?"data-src":"srcset",r=n.split(".").pop(),c={jpg:"jpeg"}[r]||r;return`<picture>\n\t\t\t\t\t<source type="image/webp" ${s}="${this.fullPath(t,e)}">\n\t\t\t\t\t<source type="image/${c}" ${s}="${this.fullPath(t,n)}">\n\t\t\t\t\t${this.newImg(t,n,o,i)}\n\t\t\t\t</picture>`},newImg:function(t,e,n,o){const i=this.fullPath(t,e);return`<img src=${o?`"${this.px1}" data-src="${i}"`:`"${i}"`} alt="${n}">`}};function d(){const t=e(".header__container"),n="header__container_open-burger";t.classList.contains(n)||v({event:"open_burgerMenu"}),t.classList.toggle(n)}function u(t){t.querySelectorAll("source").forEach((t=>{t.srcset=t.dataset.src}));const e=t.querySelector("img");e.src=e.dataset.src}function g(o){if(!(o&&o.classList.contains("projects__item_empty")||1!=p)){if(p=!1,!e(".open-project-popup")&&void 0!==o){function i(t){let o=".project-popup__image-swiper-wrapper .swiper-slide";e(o)&&("add"==t?n(o).forEach((t=>{t.addEventListener("scroll",s,{once:!0})})):"remove"==t&&n(o).forEach((t=>{t.removeEventListener("scroll",s)})))}function s(t){let e=t.target.querySelector("a").href,n=e.indexOf("/projects/")+10;v({event:"project_slideScroll",projectTrimmedLink:e.substring(n)})}let r;!function(){const e=window.innerWidth-t.documentElement.clientWidth;t.documentElement.style.setProperty("--scroll-width",`${e}px`)}(),i("remove"),n(".projects__item").forEach(((t,e)=>{o==t&&(r=e)}));let c=f[r].folder,a=f[r].title,d=f[r].description,g=f[r].repository,_=f[r].demo,m=f[r].screenshots;const w=e(".project-popup__container h3"),b=e(".project-popup__container p");function j(t){let e="";for(let n=1;n<=t;n++){const t=`projects/${c}/full-size/${n}`;e+=`<div class="project-popup__image-slide swiper-slide">\n\t\t\t\t\t\t\t\t\t\t<a href="${l.fullPath("external",t)}.jpeg" target="_blank">\n\t\t\t\t\t\t\t\t\t\t\t${l.newWebpPic("external",t+".webp",t+".jpeg",`Project image ${n}`,"lazy")}\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</div>`}return e}w.textContent=a,b.textContent=d,b.scrollTop=0,[g,_].forEach(((t,n)=>{const o=e(`.project-popup__btn:nth-child(${n+1})`),i=""==t;o.classList.toggle("project-popup__btn_disabled",i),i?o.removeAttribute("href"):o.href=t})),e(".project-popup__btns").classList.toggle("project-popup__btns_disabled",""==g&&""==_),e(".project-popup__image-swiper-wrapper").innerHTML=j(m),h.slideTo(0,1,!1),i("add"),setTimeout((()=>{n(".project-popup__image-slide:nth-child(-n+2) picture").forEach(((t,n)=>{if(u(t),0==n){const n=t.querySelector("img");n.addEventListener("load",(()=>{n.scrollHeight>e(".project-popup__image").clientHeight&&setTimeout((()=>{e(".project-popup__image-scroll").classList.add("project-popup__image-scroll_animation")}),600)}))}}))}),300)}e("body").classList.toggle("open-project-popup"),setTimeout((()=>{p=!0}),300)}}const h=new Swiper(".project-popup__image-swiper",{navigation:{nextEl:".project-popup__image .swiper-nav_right",prevEl:".project-popup__image .swiper-nav_left"},pagination:{el:".project-popup__swiper-pagination",type:"fraction"},simulateTouch:!1,allowTouchMove:!1,on:{slideChange:function(){v({event:"project_slideChange"});const t=e(".project-popup__image-slide.swiper-slide-next + .project-popup__image-slide picture");t&&setTimeout((()=>{t.querySelector("img").src!=l.px1&&u(t)}),300)}}});function _(t,e){e.querySelector(t)&&e.querySelectorAll(t).forEach((t=>{t.remove()}))}const m={cssClass:"projects__btn-load-more",clickEventFunction:function(){w("load more")},create:function(){e(".projects__container").insertAdjacentHTML("beforeend",`<button class="${this.cssClass}">Load More</button>`),this.elem=e(`.${this.cssClass}`),this.elem.addEventListener("click",this.clickEventFunction)}};let f;function w(t){const o=e(".projects__items");let i,s=4;if("start"==t)i=0,_(".projects__item_empty",o);else if("load more"==t){let t=n(".projects__item").length,e=f.length-t;e>s?(i=f.length-e,s+=i):(i=f.length-e,s=f.length,m.elem.remove())}for(let t=i;t<s;t++){const e="projects/"+f[t].folder+"/800",n=e+".webp",i=e+".jpeg",s=f[t].title;let r=`<article class="projects__item">\n\t\t\t\t\t\t\t\t${l.newWebpPic("external",n,i,s,"lazy")}\n\t\t\t\t\t\t\t\t<div class="projects__item-title">\n\t\t\t\t\t\t\t\t\t<h5>${f[t].title}</h5>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</article>`;o.insertAdjacentHTML("beforeend",r);let c=o.querySelector(".projects__item:last-child picture");new IntersectionObserver((t=>{t.forEach((t=>{t.isIntersecting&&u(t.target)}))}),{rootMargin:"200px 0px 200px 0px"}).observe(c)}"start"==t&&f.length>s&&m.create()}function v(t){"undefined"!=typeof dataLayer&&Array.isArray(dataLayer)&&dataLayer.push(t)}const b={id:"1K842-NO5cQoYdsCjDdWzTbxwYfTmaysR4V8oSBI0qMo",get link(){return`https://opensheet.elk.sh/${this.id}/`},fetchJSON:function(t,e=3){return fetch(this.link+t).then((t=>{if(!t.ok)throw new Error("Response was not ok");return t.json()})).catch((n=>{if(console.error("Error fetching JSON:",n),e<=0)throw new Error("Max retries exceeded");return new Promise((n=>{setTimeout((()=>{n(this.fetchJSON(t,e-1))}),1500)}))}))}};b.fetchJSON("projects").then((t=>{f=t,w("start")})),b.fetchJSON("skills").then((t=>function(t){const n=e(".skills__items");_(".skills__item_empty",n),t.forEach((t=>{const e=`skills/${t.img}`,o=t.name;let i=`<article class="skills__item">\n\t\t\t\t\t\t\t\t${t.imgWEBP?l.newWebpPic("external",`skills/${t.imgWEBP}`,e,o):l.newImg("external",e,o)}\n\t\t\t\t\t\t\t\t<h4>${t.name}</h4>\n\t\t\t\t\t\t\t</article>`;n.insertAdjacentHTML("beforeend",i)}))}(t))),b.fetchJSON("reviews").then((t=>function(t){t.sort((function(t,e){return-(t.text.length-e.text.length)}));const n=e(".reviews__swiper-wrapper");_(".reviews__slide_empty",n),t.forEach((t=>{const e="Avatar",o=""==t.avatar?l.newImg("local","reviews/user-avatar.svg",e):l.newWebpPic("external",`reviews/${t.avatar}.webp`,`reviews/${t.avatar}.jpeg`,e);let i="#2CB67D";Number(t.grade)<5?i="#fa1111":Number(t.grade)<7&&(i="#fab43c");let s=`<div class="reviews__slide swiper-slide">\n\t\t\t\t\t\t\t\t<div class="reviews__slide-top">\n\t\t\t\t\t\t\t\t\t${o}\n\t\t\t\t\t\t\t\t\t<h5>${t.name}</h5>\n\t\t\t\t\t\t\t\t\t<h4 class="reviews__slide-grade">\n\t\t\t\t\t\t\t\t\t\t<span style="color: ${i};">${t.grade}/10</span>\n\t\t\t\t\t\t\t\t\t\t<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"viewBox="0 0 47.94 47.94" xml:space="preserve"> <path fill="${i}" d="M26.285,2.486l5.407,10.956c0.376,0.762,1.103,1.29,1.944,1.412l12.091,1.757 c2.118,0.308,2.963,2.91,1.431,4.403l-8.749,8.528c-0.608,0.593-0.886,1.448-0.742,2.285l2.065,12.042 c0.362,2.109-1.852,3.717-3.746,2.722l-10.814-5.685c-0.752-0.395-1.651-0.395-2.403,0l-10.814,5.685 c-1.894,0.996-4.108-0.613-3.746-2.722l2.065-12.042c0.144-0.837-0.134-1.692-0.742-2.285l-8.749-8.528 c-1.532-1.494-0.687-4.096,1.431-4.403l12.091-1.757c0.841-0.122,1.568-0.65,1.944-1.412l5.407-10.956 C22.602,0.567,25.338,0.567,26.285,2.486z"/> </svg>\n\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p>${t.text}</p>\n\t\t\t\t\t\t\t\t<div class="reviews__slide-bottom">\n\t\t\t\t\t\t\t\t\t<span>${t.date}</span>\n\t\t\t\t\t\t\t\t\t<a href="${t.link}" target="_blank" title="Go to source">${t.linkText}</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>`;n.insertAdjacentHTML("beforeend",s)})),new Swiper(".reviews__swiper",{pagination:{el:".reviews__swiper-pagination",type:"fraction"},navigation:{nextEl:".reviews .swiper-nav_right",prevEl:".reviews .swiper-nav_left"},autoHeight:!0,grabCursor:!0,breakpoints:{767.5:{resistanceRatio:0}},effect:"flip",speed:450,on:{slideChange:function(){v({event:"reviews_slideChange"})}}})}(t))),b.fetchJSON("contacts").then((t=>function(t){const n=e(".contacts__items");_(".contacts__item_empty",n),t.forEach((t=>{const e=`contacts/${t.img}`,o=t.title,i=t.imgWEBP?l.newWebpPic("external",`contacts/${t.imgWEBP}`,e,o):l.newImg("external",e,o);let s=`<a href="${t.link}" target="_blank" title="${t.title}" class="contacts__item">\n\t\t\t\t\t\t\t\t  ${i}\n\t\t\t\t\t\t\t  </a>`;n.insertAdjacentHTML("beforeend",s)}))}(t))),t.addEventListener("click",(t=>{const n=t.target.closest(".header__burger"),o=t.target.closest(".projects__item"),i=t.target.closest(".project-popup__close");n?d():o||i?g(o||i):t.target.classList.contains("project-popup")?g():t.target.matches('.header__menu a[href*="#"]')&&(t.preventDefault(),function(t){const n=window.pageYOffset,o=e(t).offsetTop-e(".header").offsetHeight,i=o>n?o-n:n-o;if(window.innerWidth<575.5&&d(),i<100)return void scrollTo(0,o);let s=Math.min(Math.round(i/100),20);const r=Math.round(i/25);let c=o>n?n+r:n-r,a=0;const p=o>n?1:-1;for(let t=n;1===p?t<o:t>o;t+=p*r)setTimeout((t=>{window.scrollTo(0,t)}),a*s,c),c+=p*r,(1===p?c>o:c<o)&&(c=o),a++}(t.target.getAttribute("href")))}))})();